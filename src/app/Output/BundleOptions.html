<table>
	<tr>
		[[#each formats : i]]
		<td>
			<button
				class='{{value === options.format ? "selected": ""}}'
				on-tap='set("options.format", value)'
			>{{name}}</button>
		</td>
		[[/each]]
	</tr>
</table>

{{#if options.format === 'iife' || options.format === 'umd'}}
	{{#if exports.length}}
		<div intro-outro='slide'>
			<label><span>Bundle name</span> <input value='{{options.moduleName}}'></label>
		</div>
	{{/if}}

	{{#each imports}}
		<div intro-outro='slide'>
			<label><span>{{this}}</span> <input value='{{options.globals[this]}}'></label>
		</div>
	{{/each}}
{{/if}}

<style>
	table {
		width: 100%;
		border-spacing: 0;
	}

	td {
		width: 20%;
		padding: 0;
		font-size: 0.8em;
	}

	button {
		display: block;
		width: 100%;
		height: 100%;
		padding: 1em;
	}

	.selected {
		background-color: #ccc;
		font-weight: bold;
	}

	label {
		display: block;
		padding: 0 0 0 8em;
	}

	label span {
		position: absolute;
		display: block;
		left: 0;
		top: 1px;
		padding: 0.5em;
		line-height: 1;
	}
</style>

<script>
	import tap from 'ractive-events-tap';
	import slide from 'ractive-transitions-slide';

	component.exports = {
		data: () => ({
			formats: [
				{ name: 'AMD', value: 'amd' },
				{ name: 'CommonJS', value: 'cjs' },
				{ name: 'ES2015', value: 'es6' },
				{ name: 'Globals', value: 'iife' },
				{ name: 'UMD', value: 'umd' }
			]
		}),

		events: { tap },
		transitions: { slide }
	};
</script>
